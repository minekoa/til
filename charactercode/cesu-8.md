# CESU-8

[CESU-8 - 通信用語の基礎知識](https://www.wdic.org/w/WDIC/CESU-8)

> UTF-8の亜種の一つで、Oracleが使っている不届き千万な仕様の一つ。
>
>
> ## 概要
> 本来UTF-8(RFC 2279外部リンク)では、サロゲートペアは適時解釈してから符号化せねばならない。
>
> しかしこのCESU-8は、サロゲートの各ペアを機械的にUTF-8に変換するのみであり、supplementary characterは6バイトで表現される。これはUTF-8の仕様から外れた手法であるばかりか、公害ともなりうる実装である。
>
> しかしながら、Oracleはこのような実装をしてしまった。それを正当化するために、CESU-8としてエンコーディング登録をしてしまったのである。

もともと、16bit ですべての文字集合を表現できるとした傲慢のつけ。
この 16bit 面のことを 基本多言語面(Basic Mulutilingual Plane, BMP) っていうんだけど、
ようはUCS-2のこと。

で、それじゃあ収まらないよってなって、 UTF-16でサロゲートペアが使われるようになって、この傲慢は崩壊して、
まぁ、UTF-8が標準なエンコーディングになったのだけれども、
人類はそんなに賢くもなく。

この傲慢がOSとかDBとかの内部文字コードとか実装がUTF-16だったり、基本多言語面しかか考慮してなかったりで、
UTF-16 のサロゲートペアを UTF-8に単純エンコードすることで 3+3の6bytesになってしまうという
悪魔のようなエンコーディングが誕生した。

> UTF-8表現で4バイトとなる文字が存在します。
> このような文字はMySQLのcharset utf8で定義した文字列型の列には入れることがで
> きません。
> MySQLのutf8は3バイト文字までしか対応していないためです。

頭おかしい。それはUTF8じゃないやい。

MySQLとかJavaとか。死ねばいいのに。

## 参考

* [Rust の secu8 クレートの説明](https://docs.rs/cesu8/1.0.0/cesu8/)
