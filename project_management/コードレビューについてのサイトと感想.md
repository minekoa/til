# コードレビューについてのサイトと感想

## [そろそろコードレビューそのものの必要性について考えるときがきているのかもしれない](https://hachibeechan.hateblo.jp/entry/code-review-is-not-required-process-to-win)

非常に共感した記事は

引用: [そろそろコードレビューそのものの必要性について考えるときがきているのかもしれない](https://hachibeechan.hateblo.jp/entry/code-review-is-not-required-process-to-win)

> ## コードレビューで「コードのクオリティ」をあげようとするのはコスパが悪いだけではなく危険ですらある
>
> (中略)
>
> そしてコードレビューで最優先するべきなのはバグやセキュリティ上の欠陥、
> 明らかなパフォーマンス上の懸念など、プロダクトの価値を毀損しかねない問題をチェックすることです。
> 次は単体テストのコードに問題がないことでしょうか。
>
> (中略)
>
> また「コードのクオリティ」という言葉は意味が曖昧ですが、クリーンさという観点でいうと、
> この作業を通じてそれが向上することはないでしょう。
> 逆に、セキュリティやパフォーマンスへの対策は
> おおむねコードのリーダビリティを下げる傾向にあります*2。
>
> 反して、「コードを綺麗に」するためのレビューは簡単です。
> なぜなら各レビュワーの知識ベースでコードの表面をなぞればよく、
> 最悪コードの意味をあまり理解しなくても簡潔に書き換えることができます

いいこと書くなぁ

> コードレビューシステムのインターフェースはだいたいそうだとおもうのですが、
> どうも「diffに対して行単位でコメントをつける」というUIの方式は表面的でnitpickなレビューを
> 誘発しているようにおもえてなりません。
> そもそもGitHubのあのdiffだけをみてコードレビューをするというやり方は間違っていると僕はおもいます。
> それが通用するのはよっぽど小さな修正や機能追加までです。
> コードの修正箇所よりも、その影響範囲が大きいことはざらにあります。

これは本当にそう思います。前職でのコードレビューは
コードに直接レビューコメントを書く（タグ付きでgrepで引っ掛ける）でした(danさんおすすめ）。

引用: [そろそろコードレビューそのものの必要性について考えるときがきているのかもしれない](https://hachibeechan.hateblo.jp/entry/code-review-is-not-required-process-to-win)

> しかし僕がここ数年で学んだ通り、そして色々な人がこぼす通り、コードレビューは利益もありますが、コストやリスクも存在します。
> というかコードレビューは**人間の自然なセンスで実施すると間違ったやり方をしてしまいます**。

これは広く知られたほうがいいなぁ、と思う。本当に。エンジニアリングの対象であり、
コードレビューを実施するときは、レビューの仕方を学び、トレーニングするべきだと思う。

（校閲とかも同じ種類のノウハウもってそう）

## [人間らしくコードレビューするには(パート2)](https://yakst.com/ja/posts/4965)

* [人間らしくコードレビューするには(パート2)](https://yakst.com/ja/posts/4965)

だいたいこんな状況にレビュイーとして遭遇。

> ### コードを1段階か2段階向上させることを目標にする
>
> 論理上はチームメイトはコードを改善するためにすべての機会を探し求めているはずですが、
> 彼らの忍耐にも限界があります。彼らの変更リストを改善する新しくよりよい方法を
> あなたが考え続け何ラウンドも承認せずにいると、彼らの苛立ちはすぐに募ります。
>
> 私はコードについて個人的にAからFまでの評価を考えます。
> もしDから始まる変更リストを受け取ったならば、
> オーサーがCまたはB-にもっていけるように手助けするよう試みます。完璧ではなく、
> 十分なレベル目指します。

> ### 残った修正が軽微なものであれば承認する
> レビュアーの方々の中には、全てのコメントに対する修正を確認するまで承認をしてはならない、という誤った考えをお持ちの方がいます。これにより不要なレビューラウンドが発生し、レビュアーおよびオーサー両者の時間が無駄になります。
>
> 以下のいずれかに当てはまれば承認します。
>
> * 追加のコメントがない場合
> * 残りのコメントが軽微な問題である場合
>     * 例) 変数名の修正、タイポの修正
> * 残りのコメントがオプショナルな提案である場合
>     * チームメイトがこの修正が承認の条件だと考えないようにオプショナルであることを明示しましょう。
>
> コードへのコメントの最後のピリオドが欠けているためにレビュアーが承認を保留したのを見たことがあります。
> これはやめてください。これはあなたが「彼らは単なる句読点の追加すら監督されないとできない」とみなしていると
> オーサーに伝えることになります。

概ねいい感じなのだけれども、やっぱり書き手側がレビューワーサイドなので
その傲慢（本当は正しいんだけど、譲ってやってるんだぞ、読者諸氏は共感してくれるよな？感）がちょっと鼻につく。
HRTのHが不足？

パート1はこちら。

* [人間らしくコードレビューするには(パート1)](https://yakst.com/ja/posts/4907)


## [コードレビューのアンチパターン](https://www.slideshare.net/who_you_me/ss-86441987)

スライド。前提知識として持っておきたいことなども含め、
驚きはないがとても綺麗にまとまっている。


## [コードレビューを円滑に行いたい (#cross2014 のお話)](https://blog.shibayu36.org/entry/2014/01/19/180201)

引用: [コードレビューを円滑に行いたい (#cross2014 のお話)](https://blog.shibayu36.org/entry/2014/01/19/180201)

> こういう反省があって、最近はチーム内や自分自身で幾つか気をつけている事がある。例えば
>
> * 「こうしなさい」ではなく、「こうしたら良くなりそうだけどどう思う？」
> * 文字情報は情報量が少ない

## [『Team Geek』読んだ ~HRTの精神を知り会社でサバイブしていく方法~](https://blog.toshimaru.net/team-geek/)

HRTについて、実感を伴った理解が得られる簡潔な説明がうまい。HRT, HRT と唱えるよりも絶対良い。

引用: [『Team Geek』読んだ ~HRTの精神を知り会社でサバイブしていく方法~](https://blog.toshimaru.net/team-geek/)

> ## 謙虚（Humility）
>
> 世界の中心は君ではない。君は全知全能ではないし、絶対に正しいわけでもない。常に自分を改善しよう。
>
> ## 尊敬（Respect）
>
> 一緒に働く人のことを心から思いやろう。相手を一人の人間として扱い、その能力や功績を高く評価しよう。
>
> ## 信頼（Trust）
>
> 自分以外の人は有能であり、正しいことをすると信じよう。そうすれば仕事を任せることができる
> （ただし無能な人には任せるのは難しい）。


また、HRTのコードレビューへの取り組みの説明も素晴らしい（HRTの欠損だから○○は良くない、は
HRTへの理解を促進する）

引用: [『Team Geek』読んだ ~HRTの精神を知り会社でサバイブしていく方法~](https://blog.toshimaru.net/team-geek/)

> コードレビュー時には上述したようなすれ違いが起きないように、なるべく気をつけてHRTな振る舞いをするようにしたい。
> 僕がレビューのときに気をつけていることとしては下記のことだ。
>
> (中略)
>
> * 断定口調は使わない
>     * 「〜のほうが良い」「〜はダメ」という断定は自分が間違っている可能性を否定しているので **謙虚さ** に欠ける
>     * 「〜のほうが良いと思っているのですがどうでしょうか」などと相手の反論の余地を残してやるべき
>     * なにか断定したいのであれば少なくともレビュイーが納得できるに足る理由を上げるべき
> * 命令ではなく提案
>     * 「〜に変更してください」という命令は相手のコードを **尊敬** していないし **信頼** していないように聞こえる
>     * 命令でなく「〜と書いてみるのはいかがでしょう？」という提案に形式を変えてみるとよい
>     * 断定同様にきちんと理由も述べる

本当に素晴らしいです。

##  [気持ちよくコードレビューする為にやりたい事](https://tech.fusic.co.jp/uncategorized/%E6%B0%97%E6%8C%81%E3%81%A1%E3%82%88%E3%81%8F%E3%82%B3%E3%83%BC%E3%83%89%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%81%99%E3%82%8B%E7%82%BA%E3%81%AB%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E4%BA%8B/)

いろいろな記事を紹介しながら共感していく記事.
以下が紹介されている

* [コードレビュー現場でのコミュニケーション](https://techblog.timers-inc.com/entry/2016/10/28/130000)
* [たのしくなるコードレビュー](https://techlife.cookpad.com/entry/2017/09/22/110000)
* [コードレビューで気をつけていること|Qiita](https://qiita.com/kinu/items/7e27e5734472b629e34f)

## [コードレビューのアンチパターンとパターン | kawagutiの日記](http://kawaguti.hateblo.jp/entry/2018/08/15/085920)

Erik Dietrich さんの [Manual Code Review Anti-Patterns](https://blog.submain.com/manual-code-review-anti-patterns/) を紹介している


引用: [コードレビューのアンチパターンとパターン | kawagutiの日記](http://kawaguti.hateblo.jp/entry/2018/08/15/085920)

> * The Gauntlet - ガントレット - 審査員が撃ってくる
> * The Marathon - マラソン - 長くて枝葉末節
> * The Scattershot Review - 乱れ打ち - 指摘に一貫性がない
> * The Exam - 試験 - 説明によって合否が決まる
> * The Soliloquy - 独り言 - 本当にレビューしてる？
> * The Alpha Dog - アルファドッグ - 特定の人々が牛耳って学ぶ意欲がなくなる
> * The Weeds - 雑草 - 枝葉末節に時間使う
>
> 需要あるなら、ちょっと時間とって訳したい気もします。


とても興味深いので、誰か翻訳してくれないかな。
