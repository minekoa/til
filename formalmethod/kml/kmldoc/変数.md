# 変数

変数のスコープには

* 状態内変数
* グローバル変数

がある

## 変数宣言文

変数宣言は以下の感じ。

```
var <varName> : <Type> = <expresson>;
var <varName> : <Type>;
var <varName> = <expresson>;
```

初期値を与えることは必須ではない。
与えた初期値で推論できるときは、型注釈を省略できる。

## チャネル

チャネルはグローバル変数としてつくる。
専用の `chan` キーワードをつかう

```
chan <channelName> <ArgumentTypes>;
```

たとえば

```
chan hogeRestRespop HttpStatusCode AuthInfo (Maybe Json)

// こんなのが予め定義されてるとする
type HttpStatusCode = Http200
                    | Http400
                    | Http404

。
。
。
```

こんな感じ。


##  状態内変数

state ブロックの中に書くと変数を宣言できる。
そのステートに遷移したときからそのステート外に遷移するときまでの寿命となる。

また、state プロセスの引数も状態内変数である。

もしstateを超えて永続化したいならば、グローバル変数に退避させる必要がある。
または、並行プロセスで記述することで、状態内変数を維持できる


## グローバル変数

アプリケーショングローバルな変数をつくることもできる。

### `g : Global`

たくさん作るのは害悪なので、
慣習的に `Global` という名前の レコードを作成し、
`g` という名前のグローバル変数を作る

ここには

* DBや OSのファイル構造を抽象化したもの (写像で抽象したりする）
* ページ間で永続化される情報（だいたいレコード）
* モーダルダイアログを複数枚開いたときの順番 (列でスタックを表現したりする）

が収まる。
