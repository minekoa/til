# Emacs-mozc が糞重い（トライアル）

なんとかしたい。本当になんとかしたい。

## トライ1: Emacs に対して fcitx とか ibus が起動するのが原因では説

とりあえず、無効に設定してみた。`.Xresources` ファイルを以下の内容でつくる


~/.Xresources

```
emacs.useXIM:false
```

で、これを実行（再起動したくないなら）

```
$ xrdb -merge ~/.Xresources
```


しばらく様子見

→効果なし


## トライ2: 複数のEmacsをなるべく起動しない

（git の editor を emacs -nw にしているので完全ではないが）

私は、コーディング・作業メモで
それぞれ別のEmacsを立ち上げているのですが、
(i3wmのウインドウとして別なのが便利)
複数のemacsが起動している状態がよくないのでは、と思いチャレンジ。

バッファリストが混ざってしまうので、ちょっと使い勝手は落ちますが、
emacs一つしか立ち上げないトライ、`c-x 5 2`を使ってみよう

[Emacs/ファイル, バッファの操作/マルチバッファとマルチウィンドウ](http://cns-guide.sfc.keio.ac.jp/2001/7/2/3.html)

> 表 2.3: ウィンドウ操作
>|キー操作|意味                         |参照ページ|
>|--------|-----------------------------|----------|
>|C-x 2   |ウィンドウを上下の2つに分ける|2.3.2     |
>|C-x 3   |ウィンドウを左右の2つに分ける|2.3.2     |
>|C-x 5 2 |新しくウィンドウを開く       |2.3.2     |
>|C-x o   |ウィンドウを切り替える       |2.3.2     |


→効果なし

## トライ3: jaspaceモードを使うのやめてみる

変換候補、ミニバッファにだすことで軽くしてるつもりだったのですが、
それをとりあえずやめてみて（本当に重くなるか）試してみようと思い、
また、overray じゃない popup をやってみようと ``mozc-popup`` を
パケージマネージャから入れてみました

* [Mozcの情報まとめ的な](https://qiita.com/ballforest/items/063a7fb4d0661c2bcf07)

``.emacs.d/init.el``

```
(require 'mozc-popup)
(setq mozc-candidate-style 'popup) ; select popup style.
```

これが大変重い。重いなぁ、と思っていたのですが、
よく見ればバッファーによって重さが違う。

どうも jaspace-mode が有効な場合大変重いことがわかりました。
相性が最悪だなぁ。と納得しかけたのですが、…まてよ、
普段emacs-mozc糞重いのも実はjaspace-modeのせい？という疑念がふつふつと。

というわけで、これを使わないことにしました。

とはいえ、改行・タブ・全角スペースが見えないと不便なので
代替として whitespace-mode を入れてみました。
（最悪背景色やアンダーラインで妥協しようと思ってたのですが、
だいたい同じことできるのですね）


しばらく様子見
